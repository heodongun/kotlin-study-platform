{
  "chapters": [
    {
      "id": "chapter-1-basics",
      "title": "Chapter 1: 스타쉽 부팅 (Kotlin 기초)",
      "description": "냉동수면에서 깨어난 당신. 고장 난 스타쉽을 수리하기 위해 Kotlin으로 시스템을 복구해야 합니다.",
      "lessons": [
        {
          "id": "basics-1-main",
          "title": "1. 시스템 부팅 신호",
          "story": "당신은 500년 만에 깨어났습니다. 함선 AI 'K'가 응답하지 않습니다. 메인 시스템을 수동으로 부팅하려면 정확한 신호를 보내야 합니다.",
          "content": "모든 Kotlin 프로그램은 `main` 함수에서 시작됩니다.\n\n### 미션\n`main` 함수를 정의하고 `println`을 사용하여 \"System Booting...\"을 출력하세요.",
          "initialCode": "// 1. main 함수를 작성하고\n// 2. \"System Booting...\" 메시지를 출력하세요\n",
          "codeExample": "fun main() {\n    println(\"Hello, World!\")\n}",
          "validation": {
            "type": "contains",
            "pattern": "System Booting...",
            "message": "\"System Booting...\" 문자열을 정확히 출력해야 합니다."
          },
          "order": 1
        },
        {
          "id": "basics-2-variables",
          "title": "2. 에너지 레벨 설정",
          "story": "시스템이 켜졌지만 에너지가 부족합니다. 보조 배터리의 전력을 메인 엔진으로 돌려야 합니다.",
          "content": "데이터를 저장하려면 변수가 필요합니다.\n- `val`: 읽기 전용 (변경 불가)\n- `var`: 변경 가능\n\n### 미션\n1. `energy`라는 이름의 **수정 가능한** 변수(`var`)를 만들고 `50`을 할당하세요.\n2. `systemName`이라는 **수정 불가능한** 변수(`val`)를 만들고 `\"Starship-X\"`를 할당하세요.",
          "initialCode": "fun main() {\n    println(\"System Booting...\")\n    \n    // 여기에 코드를 작성하세요\n    \n}",
          "codeExample": "val name = \"Kotlin\"\nvar level = 10",
          "validation": {
            "type": "regex",
            "pattern": "var\\s+energy\\s*=\\s*50",
            "message": "energy 변수를 var로 선언하고 50을 할당하세요."
          },
          "order": 2
        },
        {
          "id": "basics-3-functions",
          "title": "3. 진단 함수 가동",
          "story": "엔진 출력이 불안정합니다. 상태를 주기적으로 체크하는 진단 모듈이 필요합니다.",
          "content": "코드를 재사용하기 위해 함수를 사용합니다.\n\n### 미션\n`checkStatus`라는 함수를 만들고, 호출될 때마다 \"Status: OK\"를 출력하도록 만드세요.\n그리고 `main` 함수 안에서 이 함수를 호출하세요.",
          "initialCode": "fun main() {\n    println(\"System Booting...\")\n    var energy = 50\n    val systemName = \"Starship-X\"\n    \n    // 여기서 함수를 호출하세요\n    \n}\n\n// 여기에 checkStatus 함수를 정의하세요\n",
          "codeExample": "fun sayHello() {\n    println(\"Hello!\")\n}",
          "validation": {
            "type": "contains",
            "pattern": "Status: OK",
            "message": "checkStatus 함수가 \"Status: OK\"를 출력해야 합니다."
          },
          "order": 3
        },
        {
          "id": "basics-4-control-flow",
          "title": "4. 보안 프로토콜 (if/else)",
          "story": "외부 통신 포트를 열려고 하는데 보안 등급 확인이 필요합니다. 에너지 레벨이 100 미만이면 경고를 띄워야 합니다.",
          "content": "조건문을 사용하여 흐름을 제어합니다.\n\n### 미션\n`energy`가 100 미만이면 \"Warning: Low Energy\"를, 그렇지 않으면 \"Access Granted\"를 출력하는 `if/else` 문을 작성하세요.",
          "initialCode": "fun main() {\n    println(\"System Booting...\")\n    var energy = 50\n    val systemName = \"Starship-X\"\n    \n    checkStatus()\n    \n    // 여기에 if/else 문을 작성하세요\n    \n}\n\nfun checkStatus() {\n    println(\"Status: OK\")\n}",
          "codeExample": "if (score > 90) {\n    println(\"A\")\n} else {\n    println(\"B\")\n}",
          "validation": {
            "type": "contains",
            "pattern": "Warning: Low Energy",
            "message": "에너지가 50이므로 \"Warning: Low Energy\"가 출력되어야 합니다."
          },
          "order": 4
        }
      ]
    },
    {
      "id": "chapter-2-intermediate",
      "title": "Chapter 2: 비동기 던전 (Coroutines)",
      "description": "함선의 통신 모듈이 고장 났습니다. 비동기 신호를 처리하여 구조 요청을 보내야 합니다.",
      "lessons": [
        {
          "id": "inter-1-coroutines",
          "title": "1. 비동기 통신 시작",
          "story": "구조 신호를 보내려는데 메인 시스템이 멈추면 안 됩니다. 백그라운드에서 신호를 보내야 합니다.",
          "content": "코루틴을 사용하면 메인 스레드를 멈추지 않고 작업을 수행할 수 있습니다.\n`launch`는 새로운 코루틴을 시작하는 빌더입니다.\n\n### 미션\n`GlobalScope.launch`를 사용하여 백그라운드에서 \"Sending SOS...\"를 출력하세요.\n(실제 앱에서는 GlobalScope보다 구조화된 스코프를 권장하지만, 지금은 테스트입니다!)",
          "initialCode": "import kotlinx.coroutines.*\n\nfun main() {\n    println(\"Main System Active\")\n    \n    // 여기에 코루틴 코드를 작성하세요\n    \n    \n    Thread.sleep(1000) // 코루틴이 끝날 때까지 대기\n}",
          "codeExample": "GlobalScope.launch {\n    println(\"Background work\")\n}",
          "validation": {
            "type": "contains",
            "pattern": "Sending SOS...",
            "message": "코루틴 안에서 \"Sending SOS...\"를 출력해야 합니다."
          },
          "order": 1
        },
        {
          "id": "inter-2-suspend",
          "title": "2. 지연 전송 (suspend)",
          "story": "신호가 너무 빨리 전송되어 간섭이 발생합니다. 1초 간격을 두고 전송해야 합니다.",
          "content": "`delay` 함수는 스레드를 차단하지 않고 코루틴을 잠시 중단합니다.\n\n### 미션\n코루틴 내부에서 \"Start\"를 출력하고, `delay(1000)`을 호출한 뒤, \"End\"를 출력하세요.",
          "initialCode": "import kotlinx.coroutines.*\n\nfun main() {\n    GlobalScope.launch {\n        // 여기에 코드를 작성하세요\n        \n    }\n    Thread.sleep(2000)\n}",
          "codeExample": "launch {\n    println(\"Wait\")\n    delay(1000)\n    println(\"Done\")\n}",
          "validation": {
            "type": "contains",
            "pattern": "delay(1000)",
            "message": "delay(1000)을 사용하여 1초 대기해야 합니다."
          },
          "order": 2
        }
      ]
    }
  ]
}